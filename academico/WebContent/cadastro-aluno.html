<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="icon" type="image/png" href="img/icon.png"/>
<script src="js/jquery-3.5.1.min.js"></script>
</head>
<body>

	<form action="alunos" id="form" method="post">
		<p>
			<input type="text" id="input-matricula" name="input-matricula"
				size="30" />
		</p>
		<p>
			<input type="text" id="input-nome" name="input-nome" size="100" />
		</p>
		<p>
			<input type="submit" id="btn-salva" name="btn-salva" value="salvar" />
		</p>
	</form>

</body>

<script type="text/javascript">
	const searchParams = new URLSearchParams(location.search);
	//const btnSalva = document.querySelector('#btn-salva');

	if (searchParams.get('matricula')) {
		
		var ajax = new XMLHttpRequest();
		ajax.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
				var aluno = JSON.parse(ajax.responseText);
				carregaDadosDoAluno(aluno);
			}
		};
		ajax.open("GET", "alunos?matricula=" + searchParams.get('matricula')
				+ "&origem=cadastro-aluno", true);
		ajax.send();
	}
	
	function carregaDadosDoAluno(aluno) {
		inputMatricula = document.querySelector('#input-matricula');
		inputNome = document.querySelector('#input-nome');

		inputMatricula.value = aluno.matricula;
		inputNome.value = aluno.nome;
	}
</script>
</html>